<mat-sidenav-container class="white">
    <!-- Header -->
    <app-header (openBolsa)="openBolsa($event)"></app-header>
    <!-- Home -->
    <router-outlet></router-outlet>
    <!-- <app-content [deviceXs]="deviceXs"></app-content> -->
    <!-- Footer -->
      <app-footer></app-footer>

      <!-- Bolsa -->
        <mat-sidenav [(opened)]="bolsa" mode="over" position="end" [fixedInViewport]="true">

          <div class="content-bolsa">

            <div class="ing5-header-bolsa">
              <div class="titulo-boton" >
                <div class="boton" (click)="openBolsa(false)">
                  <span class="material-icons close-bolsa"  >highlight_off</span>
                </div>
                <div class="titulo">
                  <h3 class="titulo-bolsa">Bolsa de compras</h3>
                  <small class="hello-user" *ngIf="usuario">Â¡Hola {{usuario.nombres}}!</small>
                </div>
              </div>
            </div>

            <div class="content-productos content-productos-2" *ngIf="!carritoAnterior">

              <div class="icono-triste">
                    <span class="material-icons">
                    sentiment_very_dissatisfied
                    </span>
                <p>No tienes producto agregado en la bolsa</p>
              </div>
            </div>

            <div class="content-productos" *ngIf="carritoAnterior">

              <div class="items-productos-bolsa" *ngFor="let data of carritoAnterior; let indices = index ">
                <div class="imagen-producto">
                  <img [src]="data['imagen_destacada'] ? data['imagen_destacada'] : data['imagen_portada']['img']">
                </div>
                <div class="detalle-producto">
                  <h2>{{data['name_prod']}}</h2>
                  <h3>{{data['name_marca']}}</h3>
                  <p>{{data['referencia']}}</p>
                </div>
                <div class="precio-acciones" style="margin-bottom: 10px">

                    <div class="valores">
                      <p class="precio-descuento">{{data['precio_general'] * data.stock[indices]?.cantidad | currency}}</p>
                    <p *ngIf="data['precio_general'] !== data['precio']"><span class="precio-normal">{{data['precio'] * data.stock[indices]?.cantidad | currency}}</span>
                      <span class="porcentaje-descuento" *ngIf="data['valor_descuento']">{{ " - " + data['valor_descuento'] + "%" }} </span>
                    </p>
                    </div>

                  <div class="campos-pruebas">
                       <div><img class="material-icons  imagen-eliminar"  src="assets/img/icons/trash.svg" alt="" (click)="quitarItemCarrito(data, indices)"></div>
                        <div><span class="material-icons " (click)="aumentarDisminuir(data, indices, 0)">remove_circle</span></div>
                        <div><input class="form-control campo-cantidad " disabled type="number" [value]="data.stock[indices]?.cantidad"  name="" ></div>
                        <div><span class="material-icons "  (click)="aumentarDisminuir(data, indices, 1)">add_circle</span></div>
                  </div>
                  <!--<div class="acciones-cantidad" >
                    <img class="material-icons trash-2 numero-imagen"  src="assets/img/icons/trash.svg" alt="" (click)="quitarItemCarrito(data, indices)">
                    <span class="material-icons trash  restar numero-menos" (click)="aumentarDisminuir(data, indices, 0)">remove_circle</span>
                    <input class="form-control cantidad numero-campo" type="number" [value]="data['cantidad']"  name="" >
                    <span class="material-icons plus-2 numero-sumar"  (click)="aumentarDisminuir(data, indices, 1)">add_circle</span>
                  </div>-->

                </div>

              </div>

            </div>

            <div class="footer-bolsa" *ngIf="carritoAnterior">
              <div class="total">
                <span class="aproximado">TOTAL</span>
                <span class="valor" *ngIf="!valorTotal">{{  0 | currency}}</span>
                <span class="valor" *ngIf="valorTotal">{{ valorTotal | currency}}</span>
              </div>
              <hr class="separador-boton">
              <div class="call-to-action-bolsa">

                <a routerLink="/detalle-de-la-compra" (click)="openBolsa(false)" class="pay-now">
                  <span class="circle-go-shop">
                    <span class="material-icons">
                    done
                    </span>
                  </span>
                 Pagar ahora
                </a>

                <a  class="clear-now" (click)="vaciarBolsa()">
                  <span class="circle-clear-shop">
                    <span class="material-icons">delete</span>
                  </span>
                  Vaciar bolsa
                </a>

              </div>
            </div>

          </div>

        </mat-sidenav>


</mat-sidenav-container>
